<!DOCTYPE html>
<html lang="zh-TW">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/Blog/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/Blog/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/Blog/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/Blog/images/logo.svg" color="#222">
  <meta name="google-site-verification" content="googlea0cb77247135ae4c.html">

<link rel="stylesheet" href="/Blog/css/main.css">


<link rel="stylesheet" href="/Blog/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"cromarmot.github.io","root":"/Blog/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"right","display":"post","padding":18,"offset":12,"onmobile":true},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":true,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":true},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Cro-Marmot&#39;s Blog">
<meta property="og:url" content="https://cromarmot.github.io/Blog/page/5/index.html">
<meta property="og:site_name" content="Cro-Marmot&#39;s Blog">
<meta property="og:locale" content="zh-TW">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Cro-Marmot&#39;s Blog">

<link rel="canonical" href="https://cromarmot.github.io/Blog/page/5/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-TW'
  };
</script>

  <title>Cro-Marmot's Blog</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切換導航欄">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/Blog/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Cro-Marmot's Blog</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
        <i class="fa fa-search fa-fw fa-lg"></i>
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/Blog/" rel="section"><i class="fa fa-home fa-fw"></i>首頁</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/Blog/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>歸檔</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜尋
        </a>
      </li>
  </ul>
</nav>



  <div class="search-pop-overlay">
    <div class="popup search-popup">
        <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocapitalize="off"
           placeholder="搜尋..." spellcheck="false"
           type="search" class="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result">
  <div id="no-result">
    <i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>
  </div>
</div>

    </div>
  </div>

</div>
    </header>

    


  <a href="https://codeforces.com/profile/Cro-Marmot" class="codeforces-corner" title="Star me on Codeforces" aria-label="Star me on Codeforces" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L250,250 L250,0 Z"></path>
  <path d="M125,10 125,125 240,125" fill="currentColor" style="transform-origin: 125px 125px;" class="octo-arm"></path>
  <path d="M125,10 240,10 240,125 Z" fill="currentColor" class="octo-body"></path></svg></a>



    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://cromarmot.github.io/Blog/19-08-26-design-pattern/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/Blog/images/avatar.gif">
      <meta itemprop="name" content="Cro-Marmot">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cro-Marmot's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/Blog/19-08-26-design-pattern/" class="post-title-link" itemprop="url">设计模式 阅读笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2019-08-26 15:09:01" itemprop="dateCreated datePublished" datetime="2019-08-26T15:09:01+08:00">2019-08-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2021-02-25 16:38:55" itemprop="dateModified" datetime="2021-02-25T16:38:55+08:00">2021-02-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/Blog/categories/code/" itemprop="url" rel="index"><span itemprop="name">code</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/Blog/19-08-26-design-pattern/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="19-08-26-design-pattern/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>19-08-26 -&gt; 19-</p>
</blockquote>
<p><a href="https://www.runoob.com/design-pattern/design-pattern-tutorial.html" target="_blank" rel="noopener">https://www.runoob.com/design-pattern/design-pattern-tutorial.html</a></p>
<p><img src="https://www.runoob.com/wp-content/uploads/2014/08/the-relationship-between-design-patterns.jpg" alt="relation"></p>
<h1 id="创建型模式"><a href="#创建型模式" class="headerlink" title="创建型模式"></a>创建型模式</h1><p>这些设计模式提供了一种在创建对象的同时隐藏创建逻辑的方式，而不是使用 new 运算符直接实例化对象。这使得程序在判断针对某个给定实例需要创建哪些对象时更加灵活。</p>
<p>1、开闭原则（Open Close Principle）</p>
<p>开闭原则的意思是：对扩展开放，对修改关闭。在程序需要进行拓展的时候，不能去修改原有的代码，实现一个热插拔的效果。简言之，是为了使程序的扩展性好，易于维护和升级。想要达到这样的效果，我们需要使用接口和抽象类，后面的具体设计中我们会提到这点。</p>
<p>2、里氏代换原则（Liskov Substitution Principle）</p>
<p>里氏代换原则是面向对象设计的基本原则之一。 里氏代换原则中说，任何基类可以出现的地方，子类一定可以出现。LSP 是继承复用的基石，只有当派生类可以替换掉基类，且软件单位的功能不受到影响时，基类才能真正被复用，而派生类也能够在基类的基础上增加新的行为。里氏代换原则是对开闭原则的补充。实现开闭原则的关键步骤就是抽象化，而基类与子类的继承关系就是抽象化的具体实现，所以里氏代换原则是对实现抽象化的具体步骤的规范。</p>
<p>3、依赖倒转原则（Dependence Inversion Principle）</p>
<p>这个原则是开闭原则的基础，具体内容：针对接口编程，依赖于抽象而不依赖于具体。</p>
<p>4、接口隔离原则（Interface Segregation Principle）</p>
<p>这个原则的意思是：使用多个隔离的接口，比使用单个接口要好。它还有另外一个意思是：降低类之间的耦合度。由此可见，其实设计模式就是从大型软件架构出发、便于升级和维护的软件设计思想，它强调降低依赖，降低耦合。</p>
<p>5、迪米特法则，又称最少知道原则（Demeter Principle）</p>
<p>最少知道原则是指：一个实体应当尽量少地与其他实体之间发生相互作用，使得系统功能模块相对独立。</p>
<p>6、合成复用原则（Composite Reuse Principle）</p>
<p>合成复用原则是指：尽量使用合成/聚合的方式，而不是使用继承。</p>
<table>
<thead>
<tr>
<th>模式名称</th>
<th>简单概括</th>
</tr>
</thead>
<tbody>
<tr>
<td>工厂模式（Factory Pattern）</td>
<td>从new变为从工厂拿具体类</td>
</tr>
<tr>
<td>抽象工厂模式（Abstract Factory Pattern）</td>
<td>其它工厂的工厂</td>
</tr>
<tr>
<td>单例模式（Singleton Pattern）</td>
<td>某作用域唯一的，存在0或1个</td>
</tr>
<tr>
<td>建造者模式（Builder Pattern）</td>
<td>分离不变(基本元素)和易变模块(组合基本元素的方法)</td>
</tr>
<tr>
<td>原型模式（Prototype Pattern）</td>
<td>重写clone方法 控制重复对象克隆的代价</td>
</tr>
</tbody>
</table>
<h2 id="工厂模式（Factory-Pattern）"><a href="#工厂模式（Factory-Pattern）" class="headerlink" title="工厂模式（Factory Pattern）"></a>工厂模式（Factory Pattern）</h2><p>复杂对象适合使用工厂模式，而简单对象，特别是只需要通过 new 就可以完成创建的对象，无需使用工厂模式。如果使用工厂模式，就需要引入一个工厂类，会增加系统的复杂度。</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2014/08/factory_pattern_uml_diagram.jpg" alt="factory pattern"></p>
<p>主程序 new 工厂</p>
<p>通过工厂方法获得有某些接口实现的实例</p>
<p>调用实例的接口方法</p>
<p>如上图，对于main来说左边框中除了 interface Shape以外 是未知的，通过调用Shape Factory来创建具体实现了Shape的实例</p>
<h2 id="抽象工厂模式（Abstract-Factory-Pattern）"><a href="#抽象工厂模式（Abstract-Factory-Pattern）" class="headerlink" title="抽象工厂模式（Abstract Factory Pattern）"></a>抽象工厂模式（Abstract Factory Pattern）</h2><p>其他工厂的工厂</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2014/08/abstractfactory_pattern_uml_diagram.jpg" alt="Abstract Factory Pattern"></p>
<p>讲就是，通过其它工厂的工厂来创建工厂，再通过创建出的工厂来调用具体的对象创建</p>
<h2 id="单例模式（Singleton-Pattern）"><a href="#单例模式（Singleton-Pattern）" class="headerlink" title="单例模式（Singleton Pattern）"></a>单例模式（Singleton Pattern）</h2><ol>
<li>单例类只能有一个实例。</li>
<li>单例类必须自己创建自己的唯一实例。</li>
<li>单例类必须给所有其他对象提供这一实例。</li>
</ol>
<p><img src="https://www.runoob.com/wp-content/uploads/2014/08/singleton_pattern_uml_diagram.jpg" alt="singleton pattern"></p>
<h3 id="实现方式"><a href="#实现方式" class="headerlink" title="实现方式"></a>实现方式</h3><p>是否 Lazy 初始化：是</p>
<p>是否多线程安全：否</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;  </span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> Singleton instance;  </span><br><span class="line">  <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span> <span class="params">()</span></span>&#123;&#125;  </span><br><span class="line"></span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getInstance</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">    <span class="keyword">if</span> (instance == <span class="keyword">null</span>) &#123;  </span><br><span class="line">      instance = <span class="keyword">new</span> Singleton();  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> instance;  </span><br><span class="line">  &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>是否 Lazy 初始化：是</p>
<p>是否多线程安全：是</p>
<p>这种方式具备很好的 lazy loading，能够在多线程中很好的工作，但是，效率很低，99% 情况下不需要同步<br>。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;  </span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> Singleton instance;  </span><br><span class="line">  <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span> <span class="params">()</span></span>&#123;&#125;  </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> Singleton <span class="title">getInstance</span><span class="params">()</span> </span>&#123; <span class="comment">// 相对来说 保证了多线程安全</span></span><br><span class="line">    <span class="keyword">if</span> (instance == <span class="keyword">null</span>) &#123;  </span><br><span class="line">      instance = <span class="keyword">new</span> Singleton();  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> instance;  </span><br><span class="line">  &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>是否 Lazy 初始化：否</p>
<p>是否多线程安全：是</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Singleton instance = <span class="keyword">new</span> Singleton(); <span class="comment">// 默认初始化单例实例 但可能不会用到</span></span><br><span class="line">    <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span> <span class="params">()</span></span>&#123;&#125;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getInstance</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">      <span class="keyword">return</span> instance;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>双检锁/双重校验锁（DCL，即 double-checked locking）</p>
<p>JDK 版本：JDK1.5 起</p>
<p>是否 Lazy 初始化：是</p>
<p>是否多线程安全：是</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;  </span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="keyword">static</span> Singleton singleton;  </span><br><span class="line">  <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span> <span class="params">()</span></span>&#123;&#125;  </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title">getSingleton</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">    <span class="keyword">if</span> (singleton == <span class="keyword">null</span>) &#123;   <span class="comment">// 因为最多0次或1此创建 而如果使用大多数都是 != null</span></span><br><span class="line">      <span class="keyword">synchronized</span> (Singleton<span class="class">.<span class="keyword">class</span>) </span>&#123;  </span><br><span class="line">        <span class="keyword">if</span> (singleton == <span class="keyword">null</span>) &#123;  </span><br><span class="line">          singleton = <span class="keyword">new</span> Singleton();  </span><br><span class="line">        &#125;  </span><br><span class="line">      &#125;  </span><br><span class="line">    &#125;  </span><br><span class="line">    <span class="keyword">return</span> singleton;  </span><br><span class="line">  &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>登记式/静态内部类</p>
<p>利用了 classloader 机制来保证初始化 instance 时只有一个线程</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Singleton</span> </span>&#123;  </span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">SingletonHolder</span> </span>&#123;  </span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Singleton INSTANCE = <span class="keyword">new</span> Singleton();  </span><br><span class="line">  &#125;  </span><br><span class="line">  <span class="function"><span class="keyword">private</span> <span class="title">Singleton</span> <span class="params">()</span></span>&#123;&#125;  </span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> Singleton <span class="title">getInstance</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">    <span class="keyword">return</span> SingletonHolder.INSTANCE;  <span class="comment">// 只有通过显式调用 getInstance 方法时，才会显式装载 SingletonHolder 类，从而实例化 instance</span></span><br><span class="line">  &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>JDK 版本：JDK1.5 起</p>
<p>是否 Lazy 初始化：否</p>
<p>是否多线程安全：是</p>
<p>这种实现方式还没有被广泛采用，但这是实现单例模式的最佳方法。它更简洁，自动支持序列化机制，绝对防止多次实例化。</p>
<p>这种方式是 Effective Java 作者 Josh Bloch 提倡的方式，它不仅能避免多线程同步问题，而且还自动支持序列化机制，防止反序列化重新创建新的对象，绝对防止多次实例化。不过，由于 JDK1.5 之后才加入 enum 特性，用这种方式写不免让人感觉生疏，在实际工作中，也很少用。</p>
<p>不能通过 reflection attack 来调用私有构造方法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> Singleton &#123;  </span><br><span class="line">    INSTANCE;  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">whateverMethod</span><span class="params">()</span> </span>&#123;  </span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>经验之谈：一般情况下，不建议使用第 1 种和第 2 种懒汉方式，建议使用第 3 种饿汉方式。只有在要明确实现 lazy loading 效果时，才会使用第 5 种登记方式。如果涉及到反序列化创建对象时，可以尝试使用第 6 种枚举方式。如果有其他特殊的需求，可以考虑使用第 4 种双检锁方式。</p>
<h2 id="建造者模式（Builder-Pattern）"><a href="#建造者模式（Builder-Pattern）" class="headerlink" title="建造者模式（Builder Pattern）"></a>建造者模式（Builder Pattern）</h2><p>分离 常变和不变的</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2014/08/builder_pattern_uml_diagram.jpg" alt="builder pattern"></p>
<p>如上，具体的食物 等是不变的，而 套餐组合是变化的=.=我暂时没有想到代码中的用例</p>
<p>使用场景： 1、需要生成的对象具有复杂的内部结构。 2、需要生成的对象内部属性本身相互依赖。</p>
<p>注意事项：与工厂模式的区别是：建造者模式更加关注与零件装配的顺序。</p>
<h2 id="原型模式（Prototype-Pattern）"><a href="#原型模式（Prototype-Pattern）" class="headerlink" title="原型模式（Prototype Pattern）"></a>原型模式（Prototype Pattern）</h2><p>原型模式（Prototype Pattern）是用于创建重复的对象，同时又能保证性能。这种类型的设计模式属于创建型模式，它提供了一种创建对象的最佳方式。</p>
<p>这种模式是实现了一个原型接口，该接口用于创建当前对象的克隆。当直接创建对象的代价比较大时，则采用这种模式。例如，一个对象需要在一个高代价的数据库操作之后被创建。我们可以缓存该对象，在下一个请求时返回它的克隆，在需要的时候更新数据库，以此来减少数据库调用。</p>
<p>关键代码： 1、实现克隆操作，在 JAVA 继承 Cloneable，重写 clone()，在 .NET 中可以使用 Object 类的 MemberwiseClone() 方法来实现对象的浅拷贝或通过序列化的方式来实现深拷贝。 2、原型模式同样用于隔离类对象的使用者和具体类型（易变类）之间的耦合关系，它同样要求这些”易变类”拥有稳定的接口。</p>
<p>在实际项目中，原型模式很少单独出现，一般是和工厂方法模式一起出现，通过 clone 的方法创建一个对象，然后由工厂方法提供给调用者。原型模式已经与 Java 融为浑然一体，大家可以随手拿来使用。</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2014/08/prototype_pattern_uml_diagram.jpg" alt="Prototype Pattern"></p>
<h1 id="结构型模式"><a href="#结构型模式" class="headerlink" title="结构型模式"></a>结构型模式</h1><p>这些设计模式关注类和对象的组合。继承的概念被用来组合接口和定义组合对象获得新功能的方式。</p>
<table>
<thead>
<tr>
<th>模式名称</th>
<th>简单概括</th>
</tr>
</thead>
<tbody>
<tr>
<td>适配器模式（Adapter Pattern）</td>
<td>解决 接口不兼容 如wine</td>
</tr>
<tr>
<td>桥接模式（Bridge Pattern）</td>
<td>抽象实体解耦</td>
</tr>
<tr>
<td>过滤器模式（Filter、Criteria Pattern）</td>
<td>抽象过滤方法 实现不同过滤器</td>
</tr>
<tr>
<td>组合模式（Composite Pattern）</td>
<td>树形结构</td>
</tr>
<tr>
<td>装饰器模式（Decorator Pattern）</td>
<td>不使用子类 包一层 增加方法</td>
</tr>
<tr>
<td>外观模式（Facade Pattern）</td>
<td>复杂化内部 简化对外接口</td>
</tr>
<tr>
<td>享元模式（Flyweight Pattern）</td>
<td>复用 大量细粒度对象</td>
</tr>
<tr>
<td>代理模式（Proxy Pattern）</td>
<td>中间商 抽象/管理cache等 os里常见</td>
</tr>
</tbody>
</table>
<h2 id="适配器模式（Adapter-Pattern）"><a href="#适配器模式（Adapter-Pattern）" class="headerlink" title="适配器模式（Adapter Pattern）"></a>适配器模式（Adapter Pattern）</h2><p>不兼容借口之间的桥梁</p>
<p>1、美国电器 110V，中国 220V，就要有一个适配器将 110V 转化为 220V。 2、JAVA JDK 1.1 提供了 Enumeration 接口，而在 1.2 中提供了 Iterator 接口，想要使用 1.2 的 JDK，则要将以前系统的 Enumeration 接口转化为 Iterator 接口，这时就需要适配器模式。 3、在 LINUX 上运行 WINDOWS 程序。 4、JAVA 中的 jdbc。</p>
<p>这个自己有遇到过</p>
<ol>
<li>之前改写的oiTerminal,目的是同时兼容不同的oj 的页面访问请求 和解析</li>
<li>之前也有在wukong项目里看过 网路访问做的 adapter</li>
</ol>
<p>有动机地修改一个正常运行的系统的接口，这时应该考虑使用适配器模式。</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2014/08/adapter_pattern_uml_diagram.jpg" alt="Adapter Pattern"></p>
<h2 id="桥接模式（Bridge-Pattern）"><a href="#桥接模式（Bridge-Pattern）" class="headerlink" title="桥接模式（Bridge Pattern）"></a>桥接模式（Bridge Pattern）</h2><p>用抽象解耦实现化</p>
<p>对于两个独立变化的维度，使用桥接模式再适合不过了。</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2014/08/bridge_pattern_uml_diagram.jpg" alt="Bridge"></p>
<h2 id="过滤器模式（Filter、Criteria-Pattern）"><a href="#过滤器模式（Filter、Criteria-Pattern）" class="headerlink" title="过滤器模式（Filter、Criteria Pattern）"></a>过滤器模式（Filter、Criteria Pattern）</h2><p><img src="https://www.runoob.com/wp-content/uploads/2014/08/filter_pattern_uml_diagram.jpg" alt="Filter"></p>
<p>接口是 meetCriteria</p>
<p>不同的过滤器不同的实现方式</p>
<h2 id="组合模式（Composite-Pattern）"><a href="#组合模式（Composite-Pattern）" class="headerlink" title="组合模式（Composite Pattern）"></a>组合模式（Composite Pattern）</h2><p>整体部分模式，树形模式?</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2014/08/composite_pattern_uml_diagram.jpg" alt="Composite Pattern"></p>
<h2 id="装饰器模式（Decorator-Pattern）"><a href="#装饰器模式（Decorator-Pattern）" class="headerlink" title="装饰器模式（Decorator Pattern）"></a>装饰器模式（Decorator Pattern）</h2><p>现有类的一个包装</p>
<p>动态的给一个对象添加额外的职责</p>
<p>比子类更灵活 比如rust的macro的 <a href="https://cromarmot.github.io/Blog/19-08-15-rust/#Macros">https://cromarmot.github.io/Blog/19-08-15-rust/#Macros</a></p>
<p><img src="https://www.runoob.com/wp-content/uploads/2014/08/decorator_pattern_uml_diagram.jpg" alt="Decorator Pattern"></p>
<h2 id="外观模式（Facade-Pattern）"><a href="#外观模式（Facade-Pattern）" class="headerlink" title="外观模式（Facade Pattern）"></a>外观模式（Facade Pattern）</h2><p>不符合开闭原则，如果要改东西很麻烦，继承重写都不合适。</p>
<p>使用场景： 1、为复杂的模块或子系统提供外界访问的模块。 2、子系统相对独立。 3、预防低水平人员带来的风险。</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2014/08/facade_pattern_uml_diagram.jpg" alt="Facade Pattern"></p>
<h2 id="享元模式（Flyweight-Pattern）"><a href="#享元模式（Flyweight-Pattern）" class="headerlink" title="享元模式（Flyweight Pattern）"></a>享元模式（Flyweight Pattern）</h2><p>抽离出大量细力度对象复用</p>
<p>HashMap ,如下图的circleMap</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2014/08/flyweight_pattern_uml_diagram-1.jpg" alt="Flyweight Pattern"></p>
<h2 id="代理模式（Proxy-Pattern）"><a href="#代理模式（Proxy-Pattern）" class="headerlink" title="代理模式（Proxy Pattern）"></a>代理模式（Proxy Pattern）</h2><p>按职责来划分，通常有以下使用场景： 1、远程代理。 2、虚拟代理。 3、Copy-on-Write 代理。 4、保护（Protect or Access）代理。 5、Cache代理。 6、防火墙（Firewall）代理。 7、同步化（Synchronization）代理。 8、智能引用（Smart Reference）代理。</p>
<p>写过操作系统lab代码的应该是 再熟悉不过了</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2014/08/proxy_pattern_uml_diagram.jpg" alt="Proxy Pattern"></p>
<p>#行为型模式</p>
<p>这些设计模式特别关注对象之间的通信。</p>
<h2 id="责任链模式（Chain-of-Responsibility-Pattern）"><a href="#责任链模式（Chain-of-Responsibility-Pattern）" class="headerlink" title="责任链模式（Chain of Responsibility Pattern）"></a>责任链模式（Chain of Responsibility Pattern）</h2><p>1、不能保证请求一定被接收。 2、系统性能将受到一定影响，而且在进行代码调试时不太方便，可能会造成循环调用。 3、可能不容易观察运行时的特征，有碍于除错。</p>
<p>使用场景： 1、有多个对象可以处理同一个请求，具体哪个对象处理该请求由运行时刻自动确定。 2、在不明确指定接收者的情况下，向多个对象中的一个提交一个请求。 3、可动态指定一组对象处理请求。</p>
<p>我能想到的如nodejs中express的中间件?</p>
<p>自己能处理则处理否则传递给链上的下一个处理函数</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2014/08/chain_pattern_uml_diagram.jpg" alt="Chain"></p>
<p>链上所有的类都需要实现抽象类,如上面的AbstractLogger</p>
<h2 id="命令模式（Command-Pattern）"><a href="#命令模式（Command-Pattern）" class="headerlink" title="命令模式（Command Pattern）"></a>命令模式（Command Pattern）</h2><p>关键代码：定义三个角色：1、received 真正的命令执行对象 2、Command 3、invoker 使用命令对象的入口</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2014/08/command_pattern_uml_diagram.jpg" alt="command"></p>
<p>如上 Stock是实体用的类</p>
<p>Order的具体实现BuyStock 和 SellStock是要对一个具体Stock操作的方法</p>
<p>Broker是执行者</p>
<h2 id="解释器模式（Interpreter-Pattern）"><a href="#解释器模式（Interpreter-Pattern）" class="headerlink" title="解释器模式（Interpreter Pattern）"></a>解释器模式（Interpreter Pattern）</h2><p>如果一种特定类型的问题发生的频率足够高，那么可能就值得将该问题的各个实例表述为一个简单语言中的句子。这样就可以构建一个解释器，该解释器通过解释这些句子来解决该问题。</p>
<p>如之前写过的sparql解析器</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2014/08/interpreter_pattern_uml_diagram.jpg" alt="Interpreter Pattern"></p>
<h2 id="迭代器模式（Iterator-Pattern）"><a href="#迭代器模式（Iterator-Pattern）" class="headerlink" title="迭代器模式（Iterator Pattern）"></a>迭代器模式（Iterator Pattern）</h2><p>聚合对象内部遍历方法，但是不暴露具体内部实现</p>
<p>比如rust已经说做到用iter能和 for index做当相同效率的迭代器了</p>
<p>C++里常见的stl里各种迭代器</p>
<p>// 就我对迭代器使用理解来说，这里提出的缺点是个什么鬼</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2014/08/iterator_pattern_uml_diagram.jpg" alt="iterator"></p>
<h2 id="中介者模式（Mediator-Pattern）"><a href="#中介者模式（Mediator-Pattern）" class="headerlink" title="中介者模式（Mediator Pattern）"></a>中介者模式（Mediator Pattern）</h2><p>何时使用：多个类相互耦合，形成了网状结构。</p>
<p>如何解决：将上述网状结构分离为星型结构。</p>
<p>2、机场调度系统。 3、MVC 框架，其中C（控制器）就是 M（模型）和 V（视图）的中介者。</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2014/08/mediator_pattern_uml_diagram.jpg" alt="Mediator"></p>
<h2 id="备忘录模式（Memento-Pattern）"><a href="#备忘录模式（Memento-Pattern）" class="headerlink" title="备忘录模式（Memento Pattern）"></a>备忘录模式（Memento Pattern）</h2><p>存档，返回上一步，数据库事务管理</p>
<p>备忘录模式使用三个类 Memento、Originator 和 CareTaker。Memento 包含了要被恢复的对象的状态。Originator 创建并在 Memento 对象中存储状态。Caretaker 对象负责从 Memento 中恢复对象的状态。</p>
<p>MementoPatternDemo，我们的演示类使用 CareTaker 和 Originator 对象来显示对象的状态恢复。</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2014/08/memento_pattern_uml_diagram.jpg" alt="Memento"></p>
<p>这个东西 感觉没有什么真实实践经验</p>
<p>以前做过一个很简单版本管理，用的是二进制备份和恢复</p>
<p>也做过基于数据库的备份和恢复,但实际还是靠的数据库</p>
<p>所以在实践中 如果对于一个 大的内容，感觉直接备份整体 消耗是巨大的。看vim的undo tree或者 git的版本管理，这些工程实践过的东西，都是交互式但都是记录的差异</p>
<p>那么问题又是，如何记录差异，如果一个系统的操作是具有连带操作的，那么所有连带影响都应该被记录，而在恢复时不应该触发任何连带反应，从而设计上 感觉就这里所举的例子远远不够</p>
<h2 id="观察者模式（Observer-Pattern）"><a href="#观察者模式（Observer-Pattern）" class="headerlink" title="观察者模式（Observer Pattern）"></a>观察者模式（Observer Pattern）</h2><p>定义对象间的一种一对多的依赖关系，当一个对象的状态发生改变时，所有依赖于它的对象都得到通知并被自动更新。</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2014/08/observer_pattern_uml_diagram.jpg" alt="Observer"></p>
<p>一个是 vue的 watch以及computed设计</p>
<p>另一个是RxJS里的 Observerable的设计</p>
<p>这种描述式的表述法直接代码阅读体验是会比命令式的好一些</p>
<p>比如 挖掘Vue的声明式的交互能力 <a href="https://www.bilibili.com/video/av37345007?from=search&amp;seid=18134472664073504003" target="_blank" rel="noopener">https://www.bilibili.com/video/av37345007?from=search&amp;seid=18134472664073504003</a></p>
<h2 id="状态模式（State-Pattern）"><a href="#状态模式（State-Pattern）" class="headerlink" title="状态模式（State Pattern）"></a>状态模式（State Pattern）</h2><p>内部有状态，不同的状态下 不同的方法有不同的行为</p>
<p>使用场景： 1、行为随状态改变而改变的场景。 2、条件、分支语句的代替者。</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2014/08/state_pattern_uml_diagram.png" alt="State Pattern"></p>
<p>对于if 比较多且复杂的时候会考虑</p>
<p>然后作为简单的练习有 很多算法上的，比如AC自动机等等</p>
<h2 id="空对象模式（Null-Object-Pattern）"><a href="#空对象模式（Null-Object-Pattern）" class="headerlink" title="空对象模式（Null Object Pattern）"></a>空对象模式（Null Object Pattern）</h2><p>一个空对象取代 NULL 对象实例的检查。Null 对象不是检查空值，而是反应一个不做任何动作的关系。这样的 Null 对象也可以在数据不可用的时候提供默认的行为。</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2014/08/null_pattern_uml_diagram.jpg" alt="Null object"></p>
<p>个人感觉可以看作是一种 数据的兜底行为,这个感觉要看具体是希望 抛错出去还是说用兜底行为保护，看具体业务希望</p>
<h2 id="策略模式（Strategy-Pattern）"><a href="#策略模式（Strategy-Pattern）" class="headerlink" title="策略模式（Strategy Pattern）"></a>策略模式（Strategy Pattern）</h2><p><img src="https://www.runoob.com/wp-content/uploads/2014/08/strategy_pattern_uml_diagram.jpg" alt="Strategy"></p>
<p>多个封装起来可以“替换”的策略类</p>
<p>比如复杂的决策功能而不是简单的state</p>
<h2 id="模板模式（Template-Pattern）"><a href="#模板模式（Template-Pattern）" class="headerlink" title="模板模式（Template Pattern）"></a>模板模式（Template Pattern）</h2><p><img src="https://www.runoob.com/wp-content/uploads/2014/08/template_pattern_uml_diagram.jpg" alt="template"></p>
<p>这样看 之前的 基类模式写的oiTerminal 应该是属于模板模式的</p>
<h2 id="访问者模式（Visitor-Pattern）"><a href="#访问者模式（Visitor-Pattern）" class="headerlink" title="访问者模式（Visitor Pattern）"></a>访问者模式（Visitor Pattern）</h2><p><img src="https://www.runoob.com/wp-content/uploads/2014/08/visitor_pattern_uml_diagram.jpg" alt="visitor"></p>
<p>需要对一个对象结构中的对象进行很多不同的并且不相关的操作，而需要避免让这些操作”污染”这些对象的类，使用访问者模式将这些封装到类中。</p>
<p>也就是　某一些方法　不应该直接放在　类和子类中时</p>
<p>优点： 1、符合单一职责原则。 2、优秀的扩展性。 3、灵活性。</p>
<p>缺点： 1、具体元素对访问者公布细节，违反了迪米特原则。 2、具体元素变更比较困难。 3、违反了依赖倒置原则，依赖了具体类，没有依赖抽象。</p>
<p>结构内很少改变　但需要在对象结构上定义新的操作</p>
<h1 id="J2EE-模式"><a href="#J2EE-模式" class="headerlink" title="J2EE 模式"></a>J2EE 模式</h1><p>这些设计模式特别关注表示层。这些模式是由 Sun Java Center 鉴定的。</p>
<h2 id="MVC-模式（MVC-Pattern）"><a href="#MVC-模式（MVC-Pattern）" class="headerlink" title="MVC 模式（MVC Pattern）"></a>MVC 模式（MVC Pattern）</h2><p><img src="https://www.runoob.com/wp-content/uploads/2014/08/1200px-ModelViewControllerDiagram2.svg_.png" alt="mvc"></p>
<p>Model（模型） - 模型代表一个存取数据的对象或 JAVA POJO。它也可以带有逻辑，在数据变化时更新控制器。</p>
<p>View（视图） - 视图代表模型包含的数据的可视化。</p>
<p>Controller（控制器） - 控制器作用于模型和视图上。它控制数据流向模型对象，并在数据变化时更新视图。它使视图与模型分离开。</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2014/08/mvc_pattern_uml_diagram.jpg" alt="mvc pattern"></p>
<h2 id="业务代表模式（Business-Delegate-Pattern）"><a href="#业务代表模式（Business-Delegate-Pattern）" class="headerlink" title="业务代表模式（Business Delegate Pattern）"></a>业务代表模式（Business Delegate Pattern）</h2><p>客户端（Client） - 表示层代码可以是 JSP、servlet 或 UI java 代码。</p>
<p>业务代表（Business Delegate） - 一个为客户端实体提供的入口类，它提供了对业务服务方法的访问。</p>
<p>查询服务（LookUp Service） - 查找服务对象负责获取相关的业务实现，并提供业务对象对业务代表对象的访问。</p>
<p>业务服务（Business Service） - 业务服务接口。实现了该业务服务的实体类，提供了实际的业务实现逻辑。</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2014/08/business_delegate_pattern_uml_diagram2.png" alt="Business delegate"></p>
<p>我个人里的理解是　比如　有前端和服务端的交互，那么服务端会开发一层扁平的　接口给前端使用，前端直接调用的这一层就是</p>
<p>隐藏了内部实现</p>
<h2 id="组合实体模式（Composite-Entity-Pattern）"><a href="#组合实体模式（Composite-Entity-Pattern）" class="headerlink" title="组合实体模式（Composite Entity Pattern）"></a>组合实体模式（Composite Entity Pattern）</h2><p><img src="https://www.runoob.com/wp-content/uploads/2014/08/compositeentity_pattern_uml_diagram.jpg" alt="Composite"></p>
<p>组合实体模式（Composite Entity Pattern）用在 EJB 持久化机制中。一个组合实体是一个 EJB 实体 bean，代表了对象的图解。当更新一个组合实体时，内部依赖对象 beans 会自动更新，因为它们是由 EJB 实体 bean 管理的。以下是组合实体 bean 的参与者。</p>
<ul>
<li><p>组合实体（Composite Entity） - 它是主要的实体 bean。它可以是粗粒的，或者可以包含一个粗粒度对象，用于持续生命周期。</p>
</li>
<li><p>粗粒度对象（Coarse-Grained Object） - 该对象包含依赖对象。它有自己的生命周期，也能管理依赖对象的生命周期。</p>
</li>
<li><p>依赖对象（Dependent Object） - 依赖对象是一个持续生命周期依赖于粗粒度对象的对象。</p>
</li>
<li><p>策略（Strategies） - 策略表示如何实现组合实体。</p>
</li>
</ul>
<p>没有理解到　具体的目的和解决的问题，查wikipedia有说，　消除实体之间关系 减少实体bean提高可管理性。</p>
<h2 id="数据访问对象模式（Data-Access-Object-Pattern）"><a href="#数据访问对象模式（Data-Access-Object-Pattern）" class="headerlink" title="数据访问对象模式（Data Access Object Pattern）"></a>数据访问对象模式（Data Access Object Pattern）</h2><p>数据访问对象模式（Data Access Object Pattern）或 DAO 模式用于把低级的数据访问 API 或操作从高级的业务服务中分离出来。以下是数据访问对象模式的参与者。</p>
<p>数据访问对象接口（Data Access Object Interface） - 该接口定义了在一个模型对象上要执行的标准操作。</p>
<p>数据访问对象实体类（Data Access Object concrete class） - 该类实现了上述的接口。该类负责从数据源获取数据，数据源可以是数据库，也可以是 xml，或者是其他的存储机制。</p>
<p>模型对象/数值对象（Model Object/Value Object） - 该对象是简单的 POJO，包含了 get/set 方法来存储通过使用 DAO 类检索到的数据。</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2014/08/dao_pattern_uml_diagram.jpg" alt="Data Access Object"></p>
<p>原来DAO的中文全称是这个</p>
<p>DAO在我的印象的java中是连接 数据库 和 java代码的</p>
<h2 id="前端控制器模式（Front-Controller-Pattern）"><a href="#前端控制器模式（Front-Controller-Pattern）" class="headerlink" title="前端控制器模式（Front Controller Pattern）"></a>前端控制器模式（Front Controller Pattern）</h2><p>前端控制器模式（Front Controller Pattern）是用来提供一个集中的请求处理机制，所有的请求都将由一个单一的处理程序处理。该处理程序可以做认证/授权/记录日志，或者跟踪请求，然后把请求传给相应的处理程序。以下是这种设计模式的实体。</p>
<p>前端控制器（Front Controller） - 处理应用程序所有类型请求的单个处理程序，应用程序可以是基于 web 的应用程序，也可以是基于桌面的应用程序。</p>
<p>调度器（Dispatcher） - 前端控制器可能使用一个调度器对象来调度请求到相应的具体处理程序。</p>
<p>视图（View） - 视图是为请求而创建的对象。</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2014/08/frontcontroller_pattern_uml_diagram.jpg" alt="Front Controller"></p>
<p>这个不是很理解 这样划分出的模式</p>
<p>我感觉上面没有讲到单独的dispatcher模式 ，但是有提到 业务代表模式</p>
<p>然后就这个图上看，我感觉 像是 业务代表模式和dispatcher模式的融合</p>
<h2 id="拦截过滤器模式（Intercepting-Filter-Pattern）"><a href="#拦截过滤器模式（Intercepting-Filter-Pattern）" class="headerlink" title="拦截过滤器模式（Intercepting Filter Pattern）"></a>拦截过滤器模式（Intercepting Filter Pattern）</h2><p>拦截过滤器模式（Intercepting Filter Pattern）用于对应用程序的请求或响应做一些预处理/后处理。定义过滤器，并在把请求传给实际目标应用程序之前应用在请求上。过滤器可以做认证/授权/记录日志，或者跟踪请求，然后把请求传给相应的处理程序。以下是这种设计模式的实体。</p>
<p>过滤器（Filter） - 过滤器在请求处理程序执行请求之前或之后，执行某些任务。</p>
<p>过滤器链（Filter Chain） - 过滤器链带有多个过滤器，并在 Target 上按照定义的顺序执行这些过滤器。</p>
<p>Target - Target 对象是请求处理程序。</p>
<p>过滤管理器（Filter Manager） - 过滤管理器管理过滤器和过滤器链。</p>
<p>客户端（Client） - Client 是向 Target 对象发送请求的对象。</p>
<p><img src="https://www.runoob.com/wp-content/uploads/2014/08/interceptingfilter_pattern_uml_diagram.jpg" alt="intercepting filter"></p>
<p>为什么看下面的实现代码 感觉是让每一个过滤管理器 都执行一边操作</p>
<p>而 过滤器链更像是一系列操作函数的数组。</p>
<p>执行过程是让数组中的一系列操作都 对输入数据执行一遍</p>
<h2 id="服务定位器模式（Service-Locator-Pattern）"><a href="#服务定位器模式（Service-Locator-Pattern）" class="headerlink" title="服务定位器模式（Service Locator Pattern）"></a>服务定位器模式（Service Locator Pattern）</h2><p>服务定位器模式（Service Locator Pattern）用在我们想使用 JNDI 查询定位各种服务的时候。考虑到为某个服务查找 JNDI 的代价很高，服务定位器模式充分利用了缓存技术。在首次请求某个服务时，服务定位器在 JNDI 中查找服务，并缓存该服务对象。当再次请求相同的服务时，服务定位器会在它的缓存中查找，这样可以在很大程度上提高应用程序的性能。以下是这种设计模式的实体。</p>
<ul>
<li><p>服务（Service） - 实际处理请求的服务。对这种服务的引用可以在 JNDI 服务器中查找到。</p>
</li>
<li><p>Context / 初始的 Context - JNDI Context 带有对要查找的服务的引用。</p>
</li>
<li><p>服务定位器（Service Locator） - 服务定位器是通过 JNDI 查找和缓存服务来获取服务的单点接触。</p>
</li>
<li><p>缓存（Cache） - 缓存存储服务的引用，以便复用它们。</p>
</li>
<li><p>客户端（Client） - Client 是通过 ServiceLocator 调用服务的对象</p>
</li>
</ul>
<p><img src="https://www.runoob.com/wp-content/uploads/2014/08/servicelocator_pattern_uml_diagram.jpg" alt="Service Locator"></p>
<p>感觉算是上面 模式的合体了</p>
<h2 id="传输对象模式（Transfer-Object-Pattern）"><a href="#传输对象模式（Transfer-Object-Pattern）" class="headerlink" title="传输对象模式（Transfer Object Pattern）"></a>传输对象模式（Transfer Object Pattern）</h2><p><img src="https://www.runoob.com/wp-content/uploads/2014/08/transferobject_pattern_uml_diagram.jpg" alt="Transfer Object"></p>
<p>传输对象模式（Transfer Object Pattern）用于从客户端向服务器一次性传递带有多个属性的数据。传输对象也被称为数值对象。传输对象是一个具有 getter/setter 方法的简单的 POJO 类，它是可序列化的，所以它可以通过网络传输。它没有任何的行为。服务器端的业务类通常从数据库读取数据，然后填充 POJO，并把它发送到客户端或按值传递它。对于客户端，传输对象是只读的。客户端可以创建自己的传输对象，并把它传递给服务器，以便一次性更新数据库中的数值。以下是这种设计模式的实体。</p>
<ul>
<li>业务对象（Business Object） - 为传输对象填充数据的业务服务。</li>
<li>传输对象（Transfer Object） - 简单的 POJO，只有设置/获取属性的方法。</li>
<li>客户端（Client） - 客户端可以发送请求或者发送传输对象到业务对象。</li>
</ul>
<p>我们将创建一个作为业务对象的 StudentBO 和作为传输对象的 StudentVO，它们都代表了我们的实体。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://cromarmot.github.io/Blog/19-08-21-the-black-swan/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/Blog/images/avatar.gif">
      <meta itemprop="name" content="Cro-Marmot">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cro-Marmot's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/Blog/19-08-21-the-black-swan/" class="post-title-link" itemprop="url">黑天鹅：如何应对不可预知的未来 阅读笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2019-08-21 15:09:01" itemprop="dateCreated datePublished" datetime="2019-08-21T15:09:01+08:00">2019-08-21</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2021-02-25 16:38:55" itemprop="dateModified" datetime="2021-02-25T16:38:55+08:00">2021-02-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/Blog/categories/life/" itemprop="url" rel="index"><span itemprop="name">life</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/Blog/19-08-21-the-black-swan/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="19-08-21-the-black-swan/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>19-07-19  -&gt; 19-08-21</p>
</blockquote>
<h1 id="Main"><a href="#Main" class="headerlink" title="Main"></a>Main</h1><p><img src="/Blog/images/blackswan/190719_01.jpg" alt="190719_01"><br><img src="/Blog/images/blackswan/190719_02.jpg" alt="190719_02"><br><img src="/Blog/images/blackswan/190719_03.jpg" alt="190719_03"></p>
<p>稀有性 极大冲击 事后可预测</p>
<p><img src="/Blog/images/blackswan/190723_01.jpg" alt="190723_01"></p>
<p>最近自己都有点 让错误发生好了</p>
<p>反正我每次指正你们都感觉不过是个小问题，</p>
<p>那行啊，我说的没用那我不说。</p>
<p>这也感觉之前&lt;原则&gt;一书中提到的会议记录，和事后总结分析。除此我感觉如果对应产品有其它渠道可对比的产品，也可以用来做对比，对比出贡献 </p>
<p><img src="/Blog/images/blackswan/190723_02.jpg" alt="190723_02"></p>
<p>酒品即人品的 更详细的描述</p>
<p>进行中记录的历史和进行后记录的历史 </p>
<p>商业世界的细节中没有任何有趣的东西，它华而不实，贪婪，缺乏智慧，自私而且无聊 </p>
<p><img src="/Blog/images/blackswan/190724_01.jpg" alt="190724_01"></p>
<p>然而极端的清单 比平均值的清单长得多</p>
<p>恶作剧式的非预期行为 会让受到者经历黑天鹅事件？？？？？？？？ </p>
<p>火鸡 无法推断 食物还是感恩节 </p>
<p><img src="/Blog/images/blackswan/190724_02.jpg" alt="190724_02"></p>
<p><img src="/Blog/images/blackswan/190724_05.jpg" alt="190724_05"><br><img src="/Blog/images/blackswan/190724_04.jpg" alt="190724_04"><br><img src="/Blog/images/blackswan/190724_03.jpg" alt="190724_03"></p>
<p>1.对于1来说 我认为这种情况是 未有足够的经验，如果你是火鸡，你没有亲眼见到感恩节，你会相信感恩节吗。我想大多是不会，就像大多人类不信神话故事，认为那些仅仅是故事而不是历史</p>
<p>2.</p>
<p>3.关于对数学模型的怀疑，上一次有很强印象的数模竞赛，当时我们想做一个预测的功能，那时也接触了一些基本方法以及机器学习，但当时只是接触，理解上完全不到位只会套套套的用。在当时试了以后才知道傅立叶拿来“预测” 不如简单把 函数曲线周期拓延，而无论是灰度模型还是神经网络都只能说对大自的训练范内作出预测，一旦未来的输入未知，或者未来的输入超出这个边界，之前的一切模型都基本凉凉。一个最简单的例子是训练神经网络计算1/x，丢给训练数据如果是0到1的随机生成点列，那么训练结果基本你输入0到1之间的值，都能近似的输出1/x，而如果有一天你输入了个2，那么再见</p>
<p>前4章 – 不可预期事件普遍存在 </p>
<p><img src="/Blog/images/blackswan/190726_09.jpg" alt="190726_09"><br><img src="/Blog/images/blackswan/190726_08.jpg" alt="190726_08"><br><img src="/Blog/images/blackswan/190726_07.jpg" alt="190726_07"><br><img src="/Blog/images/blackswan/190726_06.jpg" alt="190726_06"><br><img src="/Blog/images/blackswan/190726_05.jpg" alt="190726_05"><br><img src="/Blog/images/blackswan/190726_04.jpg" alt="190726_04"><br><img src="/Blog/images/blackswan/190726_03.jpg" alt="190726_03"><br><img src="/Blog/images/blackswan/190726_02.jpg" alt="190726_02"><br><img src="/Blog/images/blackswan/190726_01.jpg" alt="190726_01"></p>
<p>5 6章 感觉讲来讲去，实际讲的有</p>
<ol>
<li>我们的感性系统工作时 经常会有  充要、充分、必要 条件之间的混淆推理论述</li>
<li>我不太认可把 发生黑天鹅事件前后 的概率估计看作情感的原因，如果让你抽两种颜色的球，那么在没有抽完之前，用程序来估计概率，也一定是会用相同的高估低估。而程序也无法做到和事实的概率相同，所以还是，无法对更大系统的信息认知导致的无法准确推断</li>
<li>一个是事后解释，感觉描述得效果就像是中小学语文课上的作者意图，毫无逻辑。却看似有理，然鹅现实生活中很多人相信于这种，不同解释看上去都有理的其中某些解释</li>
<li>小实验 非理性的真的在时刻运行，你无法阻止也无法时时警觉</li>
<li>你无法把大量数据塞入脑中，总有信息损失，但却能把模式塞入脑中再用于解释大量数据，大脑总会尝试自动去找所谓的规律，然后再感觉上那些是有规律的</li>
<li>我们习惯把知识当做一种疗法</li>
<li>同2 叙述谬误，因为我们对叙述所直接联想的认知，而对概率的错误估计</li>
<li>同2</li>
<li>同4 依然是</li>
</ol>
<p>依然在举例论述事实和一定的原因剖析，还没有到具体方案，</p>
<p>有点比较像的是我之前有想过一个人的一个时刻的认知和下一个时刻认知的变化，我当时觉得如果用平面上的区域来描述的话，目前感觉都是靠以获取的知识出发，也就是用图来说，就是从图扩展会变形收缩修正，感觉不会从一个原来没有认可的知识处凭空拥有一片区域</p>
<p>在一个就是具体感知了，一个详细的报道一个小孩的死的感知</p>
<p>和一个数字百万人死去的感知，</p>
<p>很可能第一个更能让手中觉得可怜</p>
<p>恐怖组织的杀人数和每年因为年龄，疾病死亡</p>
<p>给人的认知体验 也是差异</p>
<hr>
<p>但作者感觉很想把东西挂钩到情感，</p>
<p>而我觉得是有情感的部分，但问题根本还是没有数值化，也就是不足的信息，如果能直接知道一个大自精确的数字，我相信学过比大小的小学生也能区分</p>
<p>当然基于情感的问题最大还不是能否区分，因为如果真的有区分需求，那么理智会让我们去找数据，而情感的影响在于闹钟自动会有预警等反应，甚至有些因噎废食，但可能真的计算过并不会因噎废食</p>
<p><img src="/Blog/images/blackswan/190727_01.jpg" alt="190727_01"><br><img src="/Blog/images/blackswan/190727_02.jpg" alt="190727_02"><br><img src="/Blog/images/blackswan/190727_03.jpg" alt="190727_03"></p>
<p>chap7</p>
<p>作者这里把人分为 习惯每日激励和习惯等待黑天鹅事件的人，</p>
<p>这里提到的算是说作为黑天鹅事件的等待者如何面对和处理，你可能每天每月，在事件发生之前所接收到的负面影响。</p>
<p>希望</p>
<p>群体</p>
<p>眼不见</p>
<p>按照书中的描述，我对我自己评价是分类到习惯去等一个黑天鹅事件，也就和他书中描述的常有挫败甚至面临掉入底层感，却又握着不知道哪来的希望，毫无根据，甚至这概率要细算起来，比彩票还低，但我通过数学计算概率，不信自己会中彩票，却信这不知何处来的希望？</p>
<p><img src="/Blog/images/blackswan/190730_01.jpg" alt="190730_01"><br><img src="/Blog/images/blackswan/190730_05.jpg" alt="190730_05"><br><img src="/Blog/images/blackswan/190730_04.jpg" alt="190730_04"><br><img src="/Blog/images/blackswan/190730_03.jpg" alt="190730_03"><br><img src="/Blog/images/blackswan/190730_02.jpg" alt="190730_02"></p>
<p>8章 幸存者偏差</p>
<ol>
<li>作者认为有许多和我们历史中记载的歌者 作家 伟人 相同优秀的人，只是运气差异，而没有成功，关于作者歌手，我个人的看法是难以量化，不像是科学等，有就是有无就是无，能推动就能推动不行就鸽。所以作者和歌手更可能属于作者所说其实都差不多但运气不够。关于数学公式，我倒是有些微的不服，至少有不超过二十次，我在没学公式前，理论前，自己推演出来了，我曾一次次感觉是我生的时代晚了，不然都可以用我的名字命名。但另一方面，我认为可能因为在已有相关公式下才会有相关题目，才能激发我想出公式，又成了先有鸡还是先有蛋。</li>
</ol>
<p>图4 游泳运动员的身材，我不太认可，毕竟作为二级运动员，还见过铁三，车协的运动员，我真的不信他们肌肉体积与强度是和训练无关的</p>
<p>关于本章，之前我自己是有过想法是，我们想要复制成功者的过程其实很容易，但复制不了成功的结果。我们同样能复制失败的人的过程，却未必是失败。</p>
<p>在原则中有对决策的评价，是要注意避免事后诸葛亮。而原则中评价一个人对某类事物的掌控程度除了历史业绩，还包括逻辑分析是否合理</p>
<p><img src="/Blog/images/blackswan/190730_06.jpg" alt="190730_06"><br><img src="/Blog/images/blackswan/190730_07.jpg" alt="190730_07"><br><img src="/Blog/images/blackswan/190730_08.jpg" alt="190730_08"></p>
<p>第一部分 极端国度与黑天鹅现象结束</p>
<p>第九章 游戏谬误</p>
<p>图1 有趣的是 如果把50%看作客观事实，还是所猜测的 理论的条件。从人的角度 去说接受到的信息，那就有每条信息的可信度，如果全是100%可信，那我也是认为，最后一次50%。而这里明显模糊了事实和猜测的估计的。当你估计是50%而实验结果有大量偏差时，从一定程度上说明你估计错了，（如果你没有更多观测唯维度）。以这样逻辑举例仿佛说一个人能一次喝1000杯水，他尝试了100次，每次喝了3杯就喝不下了，请问下一次尝试，他能喝多少杯。</p>
<p>图2,3 自行扩大观测范围，以通利逻辑说，一个人吃饭会有50%概率被噎死，问他今天死亡概率。信息不全的扩大范围。</p>
<p>emmm，我感觉，我像是文中第二种人，喜欢精确和概率，同时这本书到目前的章节受益并不多，反而看到的是利用逻辑谬误和遗漏玩着文字游戏。但作为一本提醒，身边的非平均事件普遍存在还是略有一些价值</p>
<p>目前为止，对本书失望占多数。</p>
<p><img src="/Blog/images/blackswan/190802_06.jpg" alt="190802_06"><br><img src="/Blog/images/blackswan/190802_05.jpg" alt="190802_05"><br><img src="/Blog/images/blackswan/190802_04.jpg" alt="190802_04"><br><img src="/Blog/images/blackswan/190802_03.jpg" alt="190802_03"><br><img src="/Blog/images/blackswan/190802_02.jpg" alt="190802_02"><br><img src="/Blog/images/blackswan/190802_01.jpg" alt="190802_01"></p>
<p>因为已经获得的信息缺乏，很多我们日常会接触的但我们不够关心的事情，我们在对其估计上，可能有很大的 值/概率偏差</p>
<p>我真的感觉这作者基本逻辑不通，长篇大论，举例片面，一堆屁话</p>
<p>如果你认为，专家的预测几乎差于随机，那么你只需要取负值即可 做到优于随机</p>
<p>如果你认为，专家的预测是另一种随机，那么你的理论应该简化为，专家并不具备有效模型或数据</p>
<p>作者所写存在可能的平均谬误，假设专家真的靠 模型预测，那么假设每日都有预测，那一年后对这些预测进行累积。同样我们用最简单的平移预测，即预测的值直接等于昨日的值，这样平移预测的累积就只和第一天和最后一天有关了。</p>
<p>那么很可能 专家得到的最终累积 相比于我们的平移预测 更远离实际。但是请问这样看似更小累积误差的，有更大的实用意义吗？总感觉作者喜欢用类似这种无意义的参数，对不同决策的优劣做评价，再反推，一个不具备知识的人能做到更优？？？？？</p>
<p>再看 关于预测我的一个大自分类</p>
<ol>
<li>不提供预测</li>
<li>凭感觉提供预测</li>
<li>随机提供预测</li>
<li>只对日常情况 提供预测，不保证极端情况</li>
<li>我们对任意情况都做预测</li>
<li>真实情况</li>
</ol>
<p>我认为目前 所谓专家都是 在不断尝试把第4做到更好，然后作者质疑为什么没有完成5？还自豪的说 我能做 1 2 3？？？？？？</p>
<p>复杂模型 不一定 比 简单模型 精确，这句描述准确。1是模型无效性，2是参数无关性。</p>
<p>对未来的预测，本就不可能百分百成功，自反性，然后作者就非要 没有百分百就看作0？？？</p>
<blockquote>
<p>19 08 03 正经历着 黑天鹅事件 </p>
</blockquote>
<p><img src="/Blog/images/blackswan/190807_01.jpg" alt="190807_01"><br><img src="/Blog/images/blackswan/190807_02.jpg" alt="190807_02"><br><img src="/Blog/images/blackswan/190807_03.jpg" alt="190807_03"></p>
<p>巧合和偶然 才是世界改变的来源</p>
<p>记得之前陈立杰的演讲，说他是怎样想到一个很多人都没想出的证明，是看到天空飞过一只白鸽。当然我和他差太多，但我也有的时候想问题，突然冒出一个很有用的想法，但回想不知道如何解释这想法是怎么来的。</p>
<p>这里又提到实验科学和概括科学</p>
<p>虽然书中不是这个例子，但我想举这个例，就是中医vs西医到底怎么样</p>
<p>中医如果真的加入统计，不需要说出所谓的病理，那我也是愿意相信的。而西医感觉更像是柏拉图式的医学，能讲出为什么。却可能有未知的原因无法发现</p>
<blockquote>
<p>19 08 09</p>
</blockquote>
<p>认知自大</p>
<p>我感觉这就和 原则中提到的 你自己没经验的部分，找有经验的人，而不是自己瞎搞</p>
<p>但这种 预测方案，感觉像是因噎废食 </p>
<p><img src="/Blog/images/blackswan/190814_01.jpg" alt="190814_01"><br><img src="/Blog/images/blackswan/190814_02.jpg" alt="190814_02"></p>
<p>观点1 强者越强 但是随机性很大</p>
<p>观点2 强者会被取代 合并 依然存在随机性风险</p>
<p>过度的合并 可能带来 更少的风险 但一旦发生 可能严重程度更大 </p>
<p><img src="/Blog/images/blackswan/190815_01.jpg" alt="190815_01"></p>
<p>卧槽 我想不到怎么解释 </p>
<p>跳出高斯模型又到分形，不还是数学模型？</p>
<p>总之 改变模型能把不少 黑天鹅事件转化为灰天鹅 但依然会有残余的黑天鹅事件 </p>
<p><img src="/Blog/images/blackswan/190819_01.jpg" alt="190819_01"><br><img src="/Blog/images/blackswan/190819_02.jpg" alt="190819_02"><br><img src="/Blog/images/blackswan/190819_03.jpg" alt="190819_03"><br><img src="/Blog/images/blackswan/190819_04.jpg" alt="190819_04"></p>
<p>作者写这部分文字时，应该是充满着傲气和怒气</p>
<p>之前我有想过的是，社会学，经济学真的能量化吗，</p>
<p>我先得到的答案是，大自能抽象出一个模型</p>
<p>而这书死死盯着经济学一顿爆锤，1是有极端情况，影响很大，预测不到。2是目前为止都是事后诸葛</p>
<p>我感觉我是图二说的那种人，认为 部分可解释预测是好于完全不，也认可极端的存在。</p>
<p>作者这本书都快结束了，除了警示我，模型不是全部，以及不符合后影响很大，没有看到什么建设性意见。现在把预测交给作者，作者更喜欢说不知道？？？</p>
<p>那照着这逻辑，这种想法，没有百分百，就否认过程中，进行中，那也不会有alpha go，也不会有任何创业尝试，因为都不是完美，也都有极端情况的危害。</p>
<p>快要看完了，感觉这周可以开新的书了。</p>
<p>虽然感觉和这书的核心观点有很大分歧，但不可否认，它的确把我之前零零星星想的一系列问题串起来了，有的给了好的概括，不算是回答，有的并没有一个好的方法。所以感觉算是推荐，但第一次感觉看一个书是在思维不断疑惑 抗拒 加 再思考的。 </p>
<p><img src="/Blog/images/blackswan/190820_06.jpg" alt="190820_06"><br><img src="/Blog/images/blackswan/190820_05.jpg" alt="190820_05"><br><img src="/Blog/images/blackswan/190820_04.jpg" alt="190820_04"><br><img src="/Blog/images/blackswan/190820_03.jpg" alt="190820_03"><br><img src="/Blog/images/blackswan/190820_02.jpg" alt="190820_02"><br><img src="/Blog/images/blackswan/190820_01.jpg" alt="190820_01"></p>
<p>repeat repeat again</p>
<p>图4🤔所以那些面对记者答非所问是故意的</p>
<p>没有多少新的有价值输入了。</p>
<p>还有30+页结束，明天有cf，应该周三游泳后能看完？ </p>
<p><img src="/Blog/images/blackswan/190821_04.jpg" alt="190821_04"><br><img src="/Blog/images/blackswan/190821_03.jpg" alt="190821_03"><br><img src="/Blog/images/blackswan/190821_02.jpg" alt="190821_02"><br><img src="/Blog/images/blackswan/190821_01.jpg" alt="190821_01"></p>
<p>over ，準備整理，然後開始下一本書 </p>
<h1 id="Summary"><a href="#Summary" class="headerlink" title="Summary"></a>Summary</h1><p>不可预测，影响极大</p>
<p>分类人为 平均国度 还是 极端国度</p>
<p>历史用来预测的低意义？</p>
<p>历史评价不公平，911救援和预防911的人，预防问题和等问题发生解决的人</p>
<p>更多的出现的是事后诸葛亮</p>
<p>人们预测失败的原因既有信息不足,或者说有大量的无效信息</p>
<p>也有因为描述差异导致心里理解的概率的夸大或缩小(从概率上看其实不然，但也有是完全凭感觉的估计)</p>
<p>甚至有充要关系描述错误的情况</p>
<p>大脑的自动简化分析作用，如文字阅读，能阅读有错误顺序，或重复字词的句子而不会发觉</p>
<p>成名作家与非成名作家差别可能只是运气 成功的人，并不具备超人的能力，而是很多人都有，只是他有运气？</p>
<p>大量小随机的期望是正态的，但实际世界，存在很多非正态的</p>
<p>生活中的知识，很多实际只能增加自信？</p>
<p>现在日常生活中的大多事物，的产生之初都不是其目的，而是碰巧</p>
<p>如果从事黑天鹅相关职业建议加入群体</p>
<p>整体我个人的看法是，的确提到了不少我之前没考虑到需要警示的问题，</p>
<p>但是因为有黑天鹅 而放弃平均的世界，我大部分反对，就我熟悉的领域，操作系统来说，每年都有新的漏洞发现和修补，甚至硬件上的。这些都是黑天鹅，否则早就解决了，但如果说担心这些的发生，就停止电脑使用，现在会是这样的世界吗？那同样作者认为一旦出了问题会是大问题，也的确，像前几年的windows漏洞，国内人因为“安全软件”建议关闭windows自动更新，再加上公私钥算法文件加密解密和比特币付款，一次漏洞发生，可以说是跨国家级别的大面积攻击。那么我们都得放弃电脑改为纸笔吗？</p>
<p>冗余当然认可，但是说冗余还要从大自然中学我觉得也是可笑的，计算机实践上，从网络，从存储，实践多少年了。</p>
<p>最后，总的说，我感觉《原则》比这本书好很多，这本书从警示作用上说很推荐，其中观点看大家探讨，比较不满意的是重复反复说，换着方式说没有什么新东西，感觉内容可以去掉3/4。</p>
<p>总推荐 3/5</p>
<p>值得一读 5/5</p>
<p>内容/阅读时间性价比 1/5</p>
<p>内容实用价值 3/5</p>
<h1 id="Ref"><a href="#Ref" class="headerlink" title="Ref"></a>Ref</h1><p><a href="https://en.wikipedia.org/wiki/The_Black_Swan:_The_Impact_of_the_Highly_Improbable" target="_blank" rel="noopener">https://en.wikipedia.org/wiki/The_Black_Swan:_The_Impact_of_the_Highly_Improbable</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://cromarmot.github.io/Blog/19-08-15-rust/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/Blog/images/avatar.gif">
      <meta itemprop="name" content="Cro-Marmot">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cro-Marmot's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/Blog/19-08-15-rust/" class="post-title-link" itemprop="url">rust book 学习笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2019-08-15 15:09:01" itemprop="dateCreated datePublished" datetime="2019-08-15T15:09:01+08:00">2019-08-15</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2021-02-25 16:38:55" itemprop="dateModified" datetime="2021-02-25T16:38:55+08:00">2021-02-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/Blog/categories/backend/" itemprop="url" rel="index"><span itemprop="name">backend</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/Blog/19-08-15-rust/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="19-08-15-rust/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p>19-07-12  -&gt; 19-08-15</p>
</blockquote>
<h1 id="Hell-world"><a href="#Hell-world" class="headerlink" title="Hell world"></a>Hell world</h1><h2 id="开始-amp-安装"><a href="#开始-amp-安装" class="headerlink" title="开始 &amp; 安装"></a>开始 &amp; 安装</h2><p><code>curl https://sh.rustup.rs -sSf | sh</code></p>
<p>网络真的是僵硬，下载下一年， 我用远端服务器就很快下了 真是艹了,我在远端 都跟着教程看了两章+尝试demo了，本地的build下载还没下好</p>
<p>国内的话 配置<code>~/.cargo/config</code>如下会稍微快一些,<a href="https://twitter.com/gaocedidi/status/1158558939530706944?s=20" target="_blank" rel="noopener">吐槽</a></p>
<figure class="highlight toml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="section">[registry]</span></span><br><span class="line"><span class="attr">index</span> = <span class="string">"https://mirrors.sjtug.sjtu.edu.cn/git/crates.io-index/"</span></span><br><span class="line"><span class="section">[source.crates-io]</span></span><br><span class="line"><span class="attr">registry</span> = <span class="string">"https://github.com/rust-lang/crates.io-index"</span></span><br><span class="line"><span class="attr">replace-with</span> = <span class="string">'ustc'</span></span><br><span class="line"><span class="section">[source.sjtug]</span></span><br><span class="line"><span class="attr">registry</span> = <span class="string">"https://mirrors.sjtug.sjtu.edu.cn/git/crates.io-index/"</span></span><br></pre></td></tr></table></figure>
<p><strong>更新</strong> 上面不能用的话看这里 <a href="https://lug.ustc.edu.cn/wiki/mirrors/help/rust-crates" target="_blank" rel="noopener">https://lug.ustc.edu.cn/wiki/mirrors/help/rust-crates</a></p>
<h2 id="IDE-vim配置"><a href="#IDE-vim配置" class="headerlink" title="IDE/vim配置"></a>IDE/vim配置</h2><p>我是用的<code>vim</code> + <code>spf13-vim</code>上加自己配置的 <code>~/.vimrc.local</code></p>
<figure class="highlight diff"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">function CompileByFileType()</span><br><span class="line">  if &amp;filetype == "cpp"</span><br><span class="line">    "!clang++ -o "%&lt;" "%" -std=gnu++17 -O2 -g -Wall -Wcomma</span><br><span class="line">    !clang++ -o "%&lt;" "%" -std=gnu++17 -g -Wall -Wcomma</span><br><span class="line">    "!g++ -o "%&lt;" "%" -std=gnu++14 -O2 -g -Wall</span><br><span class="line">  elseif &amp;filetype == "c"</span><br><span class="line">    !gcc -o "%&lt;" "%" -O2 -g</span><br><span class="line">  elseif &amp;filetype == "python"</span><br><span class="line">    !python3 "%"</span><br><span class="line">  elseif &amp;filetype == "go"</span><br><span class="line">    !go run "%"</span><br><span class="line"><span class="addition">+  elseif &amp;filetype == "rust"</span></span><br><span class="line"><span class="addition">+    !cargo run</span></span><br><span class="line">  else</span><br><span class="line">    echo "UNKNOWN FILETYPE : &amp;filetype"</span><br><span class="line">  endif</span><br><span class="line">endfunction</span><br><span class="line"></span><br><span class="line">nnoremap &lt;F9&gt; :call CompileByFileType() &lt;CR&gt;</span><br></pre></td></tr></table></figure>
<p>其它的话 据说<code>Clion</code> + <code>rust插件</code> 不错</p>
<h2 id="入门命令"><a href="#入门命令" class="headerlink" title="入门命令"></a>入门命令</h2><p><code>rustup docs --book</code></p>
<p><del>66666 题外话，我觉得现代的游戏 除了游戏本身还需要 背景，目标玩家定位，目标游戏类型定位，以及自身完备性和营销。自身完备性比如观战，历史记录等，去年出的 刀牌 从6万峰值到现在上线就是世界前100,我认为其中缺少的就是完备性。而rust 带一个 这个文档66666</del></p>
<p>有了教程，那我yyp一点 教程里的总结吧</p>
<ul>
<li>单个rs:<code>rustc main.rs</code></li>
<li>build project using <code>cargo build</code> or <code>cargo check</code>.</li>
<li>build + run a project <code>cargo run</code>.</li>
<li>Instead of saving the result of the build in the same directory as our code, Cargo stores it in the <code>target/debug</code> directory.</li>
<li>cargo build –release</li>
</ul>
<h2 id="依赖相关"><a href="#依赖相关" class="headerlink" title="依赖相关"></a>依赖相关</h2><p><del>如果玩过npm可以感觉到和package.json 和对应的lock相似</del></p>
<p>首先<code>Cargo.toml</code> 中加入需要依赖的库和版本描述，如<code>rand = &quot;0.3.14&quot;</code>,会匹配能匹配的某个版本</p>
<p>然后<code>cargo build</code></p>
<p><code>Cargo.lock</code>会保存首次build的各个库的版本</p>
<p>如果希望升级<code>cargo update</code></p>
<h1 id="基本语法-写一个猜测数游戏"><a href="#基本语法-写一个猜测数游戏" class="headerlink" title="基本语法+写一个猜测数游戏"></a>基本语法+写一个猜测数游戏</h1><h2 id="猜数"><a href="#猜数" class="headerlink" title="猜数"></a>猜数</h2><p>依赖</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/Blog/19-08-15-rust/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://cromarmot.github.io/Blog/19-07-26-jenkins/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/Blog/images/avatar.gif">
      <meta itemprop="name" content="Cro-Marmot">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cro-Marmot's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/Blog/19-07-26-jenkins/" class="post-title-link" itemprop="url">jenkins 入门尝试</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2019-07-26 01:01:01" itemprop="dateCreated datePublished" datetime="2019-07-26T01:01:01+08:00">2019-07-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2021-02-25 16:38:55" itemprop="dateModified" datetime="2021-02-25T16:38:55+08:00">2021-02-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/Blog/categories/backend/" itemprop="url" rel="index"><span itemprop="name">backend</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/Blog/19-07-26-jenkins/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="19-07-26-jenkins/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Why"><a href="#Why" class="headerlink" title="Why"></a>Why</h1><p>作为被factorio洗脑的人 看到 自动化 自动化 自动化 就会激动</p>
<h1 id="Steps"><a href="#Steps" class="headerlink" title="Steps"></a>Steps</h1><p>首先你需要 java 8(jre/jdk),docker</p>
<p>这两个我之前都安装过了</p>
<p>然后下载jenkins: <a href="https://jenkins.io/zh/download/" target="_blank" rel="noopener">https://jenkins.io/zh/download/</a></p>
<p>运行命令<code>java -jar jenkins.war --httpPort=8080</code></p>
<p>打开网页<code>http://localhost:8080</code></p>
<p>输入终端里展示的密码 –&gt; 下一步 –&gt; 等待安装git等一系列工具 –&gt; 创建管理员用户`–&gt; 实例配置(我发现有不少网页开发工具都有意无意的避开了8080端口 这里我直接默认) –&gt;开始使用</p>
<p>我这边最后一步以后白屏了，但是从Network看似乎没有资源卡着，于是我把服务先杀掉再启动一遍，可以进入jenkins了23333</p>
<h1 id="Hell-world"><a href="#Hell-world" class="headerlink" title="Hell world"></a>Hell world</h1><p>单击 New Item</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/Blog/19-07-26-jenkins/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://cromarmot.github.io/Blog/19-07-25-vsc_extension/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/Blog/images/avatar.gif">
      <meta itemprop="name" content="Cro-Marmot">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cro-Marmot's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/Blog/19-07-25-vsc_extension/" class="post-title-link" itemprop="url">vsc extension 入门尝试</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2019-07-25 01:01:01" itemprop="dateCreated datePublished" datetime="2019-07-25T01:01:01+08:00">2019-07-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2021-02-25 16:38:55" itemprop="dateModified" datetime="2021-02-25T16:38:55+08:00">2021-02-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/Blog/categories/backend/" itemprop="url" rel="index"><span itemprop="name">backend</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/Blog/19-07-25-vsc_extension/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="19-07-25-vsc_extension/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="开始-amp-安装"><a href="#开始-amp-安装" class="headerlink" title="开始 &amp; 安装"></a>开始 &amp; 安装</h1><h2 id="文档"><a href="#文档" class="headerlink" title="文档"></a>文档</h2><p><a href="https://code.visualstudio.com/api/get-started/your-first-extension" target="_blank" rel="noopener">https://code.visualstudio.com/api/get-started/your-first-extension</a></p>
<p><a href="https://github.com/microsoft/vscode-extension-samples" target="_blank" rel="noopener">https://github.com/microsoft/vscode-extension-samples</a></p>
<h2 id="install-amp-Run"><a href="#install-amp-Run" class="headerlink" title="install &amp; Run"></a>install &amp; Run</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install -g yo generator-code</span><br><span class="line">yo code</span><br></pre></td></tr></table></figure>
<p>选择你希望的选项</p>
<p><code>code ./新建目录</code></p>
<p>按<code>F5</code>启动</p>
<p>按<code>Ctrl+Shift+P</code>输入<code>Hello world</code>回车</p>
<p>当你修改了代码后，在新打开的窗口<code>Ctrl+Shift+P</code>再输入<code>Reload Window</code>就重新加载了代码</p>
<h1 id="解剖"><a href="#解剖" class="headerlink" title="解剖"></a>解剖</h1><p>看<code>package.json</code></p>
<ul>
<li>注册 <code>onCommand</code> Activation Event:<code>onCommand:extension.helloWorld</code> ,so the extension becomes activated when user runs the <code>Hello World</code> command.</li>
<li>使用<code>contributes.commands</code> Contribution Point 来让<code>Hello World</code>命令 在Command Palette 可用，并且绑定到命令id<code>extension.helloWorld</code></li>
<li><p>使用<code>commands.registerCommand</code>的VS Code API绑定到已注册的命令ID <code>extension.helloWorld</code></p>
</li>
<li><p><a href="https://code.visualstudio.com/api/references/activation-events" target="_blank" rel="noopener">Activation Events</a>: events upon which your extension becomes active.</p>
</li>
<li><a href="https://code.visualstudio.com/api/references/contribution-points" target="_blank" rel="noopener">Contribution Points</a>: static declarations that you make in the package.json Extension Manifest to extend VS Code.</li>
<li>VS Code API: 代码中API，可以在你的extension代码中调起</li>
</ul>
<p>其它配置文件</p>
<ul>
<li><code>launch.json</code> used to configure VS Code Debugging</li>
<li><code>tasks.json</code> for defining VS Code Tasks</li>
<li><code>tsconfig.json</code> consult the TypeScript Handbook</li>
</ul>
<p>package.json</p>
<p>vsc使用 <code>&lt;publisher&gt;.&lt;name&gt;</code>作为一个插件的<code>unique ID</code></p>
<h1 id="tree-view"><a href="#tree-view" class="headerlink" title="tree-view"></a>tree-view</h1><p>emmmmmm 看了一会代码 发现有文档 <a href="https://code.visualstudio.com/api/extension-guides/tree-view" target="_blank" rel="noopener">https://code.visualstudio.com/api/extension-guides/tree-view</a></p>
<p>直接看文档吧…</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://cromarmot.github.io/Blog/19-07-08-gitlabserver/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/Blog/images/avatar.gif">
      <meta itemprop="name" content="Cro-Marmot">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cro-Marmot's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/Blog/19-07-08-gitlabserver/" class="post-title-link" itemprop="url">gitlab server 搭建</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2019-07-08 01:01:01" itemprop="dateCreated datePublished" datetime="2019-07-08T01:01:01+08:00">2019-07-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2021-02-25 16:38:55" itemprop="dateModified" datetime="2021-02-25T16:38:55+08:00">2021-02-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/Blog/categories/backend/" itemprop="url" rel="index"><span itemprop="name">backend</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/Blog/19-07-08-gitlabserver/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="19-07-08-gitlabserver/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Why"><a href="#Why" class="headerlink" title="Why"></a>Why</h1><p>可以在私有环境下使用。如果想用非私有，现成的，可以考虑<a href="https://github.com" target="_blank" rel="noopener">https://github.com</a> 或 <a href="https://gitlab.com" target="_blank" rel="noopener">https://gitlab.com</a></p>
<h1 id="手工安装-docker-ce"><a href="#手工安装-docker-ce" class="headerlink" title="手工安装 docker-ce"></a>手工安装 <code>docker-ce</code></h1><blockquote>
<p>安装依赖</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apt install ca-certificates curl openssh-server postfix</span><br></pre></td></tr></table></figure>
<blockquote>
<p>安装 gitlab-ce</p>
</blockquote>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">curl -sS https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.deb.sh | sudo bash</span><br><span class="line">sudo apt install gitlab-ce</span><br></pre></td></tr></table></figure>
<p>注: 国内有不少镜像源 例如<code>https://mirrors.tuna.tsinghua.edu.cn/gitlab-ce/</code>，国内镜像会快很多，可以替换上面生成的<code>/etc/apt/sources.list.d/gitlab_gitlab-ce.list</code>中的路径</p>
<p><code>sudo gitlab-ctl reconfigure</code></p>
<p>按理说这里就可以用了</p>
<blockquote>
<p>你需要设置root的密码，和新建一个用户以及(设置该用户的密码)</p>
</blockquote>
<h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>然而 因为我本地apache服务和原来开启的nginx服务，有80冲突和原来nginx服务冲突(？)，导致我找问题找了很久很久[我似乎也没看到报错</p>
<blockquote>
<p>修改 <code>sudo vim /etc/gitlab/gitlab.rb</code></p>
</blockquote>
<p>中的<code>external_url</code> 为你的domain名称+port,如<code>http://192.168.1.51:8081</code></p>
<p>最后我停掉两个服务再重启 <code>gitlab</code>就好了</p>
<figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 未使用了 如果本身还有nginx据说可以配一下</span></span><br><span class="line"><span class="comment"># nginx listen_port 配置</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">修改</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">`/etc/gitlab/gitlab.rb`</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">找到`nginx['listen_port']`修改为</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">nginx['listen_port'] = 8081</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">再执行`sudo gitlab-ctl reconfigure`</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">访问`你的domain:8081`即可</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure>
<h1 id="gitlab-on-docker"><a href="#gitlab-on-docker" class="headerlink" title="gitlab on docker"></a>gitlab on docker</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">sudo docker run --detach --name gitlab \</span><br><span class="line">  --hostname gitlab.example.com \</span><br><span class="line">  --publish 30080:30080 \</span><br><span class="line">  --publish 30022:22 \</span><br><span class="line">  --env GITLAB_OMNIBUS_CONFIG=<span class="string">"external_url 'http://gitlab.example.com:30080'; gitlab_rails['gitlab_shell_ssh_port']=30022;"</span> \</span><br><span class="line">  gitlab/gitlab-ce:latest</span><br></pre></td></tr></table></figure>
<p>好了 ssh 30022和http 30080都ok,docker真香了</p>
<p><a href="https://developer.ibm.com/code/2017/07/13/step-step-guide-running-gitlab-ce-docker/" target="_blank" rel="noopener">https://developer.ibm.com/code/2017/07/13/step-step-guide-running-gitlab-ce-docker/</a></p>
<p><a href="https://docs.gitlab.com/omnibus/docker/README.html" target="_blank" rel="noopener">https://docs.gitlab.com/omnibus/docker/README.html</a></p>
<h1 id="问题-仓库通过ssh的git-clone报错"><a href="#问题-仓库通过ssh的git-clone报错" class="headerlink" title="问题:仓库通过ssh的git clone报错"></a>问题:仓库通过ssh的git clone报错</h1><p><code>http</code>的<code>clone</code>可用</p>
<p>而<code>ssh</code>的<code>clone</code>报错: <code>fatal: protocol error: bad line length character: Welc</code></p>
<p>gihub上很多说<code>sed -i &#39;s/session\s\+required\s\+pam_loginuid.so/# \0/&#39; /etc/pam.d/sshd</code> 就是注释掉 也没用(也restart 过)</p>
<blockquote>
<p>问题排查</p>
</blockquote>
<p>网上有很多 pam的 校验关闭都没有用</p>
<p>然后 通过<code>ssh -vvv git@&lt;ip&gt;</code>得到<code>Exit status 254</code>,对应也是没有搜到可行方案,但感觉距离问题近了些</p>
<p>查看<code>/var/log/auth.log</code>发现</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">Aug 20 14:24:03 RBEST systemd: pam_unix(systemd-user:session): session opened for user git by (uid=0)</span><br><span class="line">Aug 20 14:24:03 RBEST systemd-logind[941]: New session 170 of user git.</span><br><span class="line">Aug 20 14:24:03 RBEST sshd[16070]: error: PAM: pam_open_session(): Module is unknown</span><br><span class="line">Aug 20 14:24:03 RBEST sshd[16148]: Received disconnect from 192.168.1.51 port 48618:11: disconnected by user</span><br><span class="line">Aug 20 14:24:03 RBEST sshd[16148]: Disconnected from user git 192.168.1.51 port 48618</span><br><span class="line">Aug 20 14:24:03 RBEST systemd-logind[941]: Removed session 170.</span><br></pre></td></tr></table></figure>
<p>这个error也搜不到对应的</p>
<p>鸽了！ 用 docker来搞</p>
<p>docker的方法测试</p>
<p><code>ssh -vvv git@gitlab.example.com -p 30022</code>的exit code 是0 所以感觉还是 本地的ssh相关的东西配置有问题</p>
<h2 id="修复-重装试试"><a href="#修复-重装试试" class="headerlink" title="修复(重装试试)"></a>修复(重装试试)</h2><p>上面我得到的信息是</p>
<ol>
<li>ssh git@应该是成功登录了 但是没有和gitlab联系上</li>
<li>docker里看 只用简单配置 就应该能用</li>
<li>我尝试新开了个空白虚拟机，装一遍gitlab是能用的</li>
</ol>
<p>于是按照<a href="https://askubuntu.com/a/824723/653605把" target="_blank" rel="noopener">https://askubuntu.com/a/824723/653605把</a> gitlab完全删除 再重装就好了？喵喵喵，虽然现在能用了，可是之前究竟是什么问题。</p>
<h1 id="TODO-email"><a href="#TODO-email" class="headerlink" title="TODO email"></a>TODO email</h1><p><a href="https://docs.gitlab.com/omnibus/settings/nginx.html" target="_blank" rel="noopener">https://docs.gitlab.com/omnibus/settings/nginx.html</a></p>
<h1 id="权限管理"><a href="#权限管理" class="headerlink" title="权限管理"></a>权限管理</h1><p>权限管理 <a href="https://docs.gitlab.com/ee/administration/#user-settings-and-permissions" target="_blank" rel="noopener">https://docs.gitlab.com/ee/administration/#user-settings-and-permissions</a></p>
<p>用root权限用户登陆</p>
<blockquote>
<p><code>&lt;你的地址&gt;/admin/application_settings</code></p>
</blockquote>
<p>可见和可访问性</p>
<p>的Restricted visibility levelsx限制为 内部和私有</p>
<p>关闭了为所有项目默认 runner和默认CI/CD</p>
<h1 id="HTTPS"><a href="#HTTPS" class="headerlink" title="HTTPS"></a>HTTPS</h1><p><code>/etc/gitlab/gitlab.rb</code> 设置</p>
<p><code>external_url &#39;https://gitlab.xxx.com&#39;</code></p>
<p>以及</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">letsencrypt[&apos;enable&apos;] = true</span><br><span class="line">letsencrypt[&apos;contact_emails&apos;] = [&apos;你的email&apos;]</span><br></pre></td></tr></table></figure>
<p>再<code>gitlab-ctl reconfigure</code>就可以自动生成证书并且 启用https了</p>
<h1 id="内存占用过大"><a href="#内存占用过大" class="headerlink" title="内存占用过大"></a>内存占用过大</h1><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">unicorn[&apos;worker_timeout&apos;] = 60</span><br><span class="line">unicorn[&apos;worker_processes&apos;] = 2</span><br></pre></td></tr></table></figure>
<p>也有其它git server :<code>https://gogs.io/</code></p>
<h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a href="https://about.gitlab.com/" target="_blank" rel="noopener">https://about.gitlab.com/</a></p>
<p><a href="https://hub.docker.com/r/gitlab/gitlab-ce/" target="_blank" rel="noopener">https://hub.docker.com/r/gitlab/gitlab-ce/</a></p>
<p><a href="https://gitlab.com/gitlab-org/gitlab-foss/-/issues/25840" target="_blank" rel="noopener">https://gitlab.com/gitlab-org/gitlab-foss/-/issues/25840</a></p>
<p><a href="https://docs.gitlab.com/omnibus/settings/unicorn.html" target="_blank" rel="noopener">https://docs.gitlab.com/omnibus/settings/unicorn.html</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://cromarmot.github.io/Blog/19-06-27-rxjs/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/Blog/images/avatar.gif">
      <meta itemprop="name" content="Cro-Marmot">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cro-Marmot's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/Blog/19-06-27-rxjs/" class="post-title-link" itemprop="url">RxJS文档 阅读笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2019-06-27 01:01:01" itemprop="dateCreated datePublished" datetime="2019-06-27T01:01:01+08:00">2019-06-27</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2021-02-25 16:38:55" itemprop="dateModified" datetime="2021-02-25T16:38:55+08:00">2021-02-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/Blog/categories/frontend/" itemprop="url" rel="index"><span itemprop="name">frontend</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/Blog/19-06-27-rxjs/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="19-06-27-rxjs/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="知识依赖"><a href="#知识依赖" class="headerlink" title="知识依赖"></a>知识依赖</h1><ol start="0">
<li>基本的js语法</li>
<li>基本的nodejs用法</li>
<li>Promise用法</li>
</ol>
<h1 id="准备工作"><a href="#准备工作" class="headerlink" title="准备工作"></a>准备工作</h1><p>我想用nodejs直接跑rxjs，然而它并不支持es6的import，尝试了<code>--experimental-modules</code>依然有报错</p>
<h2 id="方案1-在线编辑器"><a href="#方案1-在线编辑器" class="headerlink" title="方案1 在线编辑器"></a>方案1 在线编辑器</h2><p><code>https://rxjs-dev.firebaseapp.com/guide/observable</code> 在上面代码点击右上角的<code>Edit in StackBlitx</code></p>
<h2 id="方案2-nodejs-rxjs-ES6"><a href="#方案2-nodejs-rxjs-ES6" class="headerlink" title="方案2 nodejs + rxjs + ES6"></a>方案2 nodejs + rxjs + ES6</h2><p><code>https://github.com/standard-things/esm</code></p>
<p>安装:<code>npm install esm rxjs</code></p>
<p>带上<code>esm</code>运行</p>
<p><code>node -r esm index.js</code></p>
<h2 id="方案3-webpack-rxjs-ES6"><a href="#方案3-webpack-rxjs-ES6" class="headerlink" title="方案3 webpack + rxjs + ES6"></a>方案3 webpack + rxjs + ES6</h2><p>创建文件夹 并初始化</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">mkdir rxjsdemo &amp;&amp; <span class="built_in">cd</span> rxjsdemo</span><br><span class="line">npx webpack-cli init</span><br></pre></td></tr></table></figure>
<p>这样选择</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">? Will your application have multiple bundles? No</span><br><span class="line">? Which will be your application entry point? index</span><br><span class="line">? In which folder do you want to store your generated bundles? dist</span><br><span class="line">? Will you use one of the below JS solutions? ES6</span><br><span class="line">? Will you use one of the below CSS solutions? No</span><br></pre></td></tr></table></figure>
<p>然后运行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install --save-dev rxjs</span><br></pre></td></tr></table></figure>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; Subject &#125; <span class="keyword">from</span> <span class="string">'rxjs'</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; interval &#125; <span class="keyword">from</span> <span class="string">'rxjs'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> subject = <span class="keyword">new</span> Subject();</span><br><span class="line"></span><br><span class="line">subject.subscribe(&#123;</span><br><span class="line">  next: <span class="function">(<span class="params">v</span>) =&gt;</span> <span class="built_in">console</span>.log(<span class="string">`observerA: <span class="subst">$&#123;v&#125;</span>`</span>)</span><br><span class="line">&#125;);</span><br><span class="line">subject.subscribe(&#123;</span><br><span class="line">  next: <span class="function">(<span class="params">v</span>) =&gt;</span> <span class="built_in">console</span>.log(<span class="string">`observerB: <span class="subst">$&#123;v&#125;</span>`</span>)</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">subject.next(<span class="number">1</span>);</span><br><span class="line">subject.next(<span class="number">2</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> observable = interval(<span class="number">1000</span>);</span><br><span class="line"><span class="keyword">const</span> subscription = observable.subscribe(<span class="function"><span class="params">x</span> =&gt;</span> <span class="built_in">console</span>.log(x));</span><br></pre></td></tr></table></figure>
<p>运行<code>npm start</code>在打开的网页查看<code>console</code>是否正常输出， 忽略红字，能输出如下即可</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">observerA: 1</span><br><span class="line">observerB: 1</span><br><span class="line">observerA: 2</span><br><span class="line">observerB: 2</span><br><span class="line">0</span><br><span class="line">1</span><br><span class="line">...</span><br></pre></td></tr></table></figure>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/Blog/19-06-27-rxjs/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://cromarmot.github.io/Blog/19-06-17-webpack/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/Blog/images/avatar.gif">
      <meta itemprop="name" content="Cro-Marmot">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cro-Marmot's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/Blog/19-06-17-webpack/" class="post-title-link" itemprop="url">webpack文档 阅读笔记</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2019-06-17 01:01:01" itemprop="dateCreated datePublished" datetime="2019-06-17T01:01:01+08:00">2019-06-17</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2021-02-25 16:38:55" itemprop="dateModified" datetime="2021-02-25T16:38:55+08:00">2021-02-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/Blog/categories/frontend/" itemprop="url" rel="index"><span itemprop="name">frontend</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/Blog/19-06-17-webpack/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="19-06-17-webpack/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a href="https://webpack.js.org/concepts/" target="_blank" rel="noopener">https://webpack.js.org/concepts/</a></p>
<p><strong>警告！虽然有<code>.com</code>的中文文档，但是存在没有更新文档的问题，不是webpack4版本的文档！！例如CommonsChunkPlugin已经被弃用，CleanWebpackPlugin的引入和使用方法不同版本不同</strong></p>
<h1 id="核心概念"><a href="#核心概念" class="headerlink" title="核心概念"></a>核心概念</h1><h2 id="入口entry"><a href="#入口entry" class="headerlink" title="入口entry"></a>入口entry</h2><p>对应配置中的<code>entry</code>属性</p>
<p>如<code>webpack.config.js</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = &#123;</span><br><span class="line">  entry: <span class="string">'./path/to/my/entry/file.js'</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>常见 分离应用程序和三方库入口</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  entry: &#123;</span><br><span class="line">    app: <span class="string">'./src/app.js'</span>,</span><br><span class="line">    vendors: <span class="string">'./src/vendors.js'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>根据经验：每个 HTML 文档只使用一个入口起点。多页面应用</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> config = &#123;</span><br><span class="line">  entry: &#123;</span><br><span class="line">    pageOne: <span class="string">'./src/pageOne/index.js'</span>,</span><br><span class="line">    pageTwo: <span class="string">'./src/pageTwo/index.js'</span>,</span><br><span class="line">    pageThree: <span class="string">'./src/pageThree/index.js'</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p><strong>注意</strong> 以上都可以用<code>CommonsChunkPlugin</code>来优化公用代码</p>
<h2 id="输出output"><a href="#输出output" class="headerlink" title="输出output"></a>输出output</h2><p>在哪里输出所建立的bundles以及命名</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/Blog/19-06-17-webpack/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://cromarmot.github.io/Blog/19-06-13-vue-declarative/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/Blog/images/avatar.gif">
      <meta itemprop="name" content="Cro-Marmot">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cro-Marmot's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/Blog/19-06-13-vue-declarative/" class="post-title-link" itemprop="url">vue声明式交互能力 & vue3.0 进展</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2019-06-13 01:01:01" itemprop="dateCreated datePublished" datetime="2019-06-13T01:01:01+08:00">2019-06-13</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2021-02-25 16:38:55" itemprop="dateModified" datetime="2021-02-25T16:38:55+08:00">2021-02-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/Blog/categories/js/" itemprop="url" rel="index"><span itemprop="name">js</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/Blog/19-06-13-vue-declarative/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="19-06-13-vue-declarative/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a href="https://www.bilibili.com/video/av37345007?from=search&amp;seid=12943305398860809438" target="_blank" rel="noopener">https://www.bilibili.com/video/av37345007?from=search&amp;seid=12943305398860809438</a></p>
<p><a href="https://www.bilibili.com/video/av55286346?from=search&amp;seid=13529674123410117444" target="_blank" rel="noopener">https://www.bilibili.com/video/av55286346?from=search&amp;seid=13529674123410117444</a></p>
<h1 id="吹什么"><a href="#吹什么" class="headerlink" title="吹什么"></a>吹什么</h1><p>vue的 声明式写法，最常见讲是computed</p>
<p>比如<code>0 js代码</code> ，直接组件实现 阶乘，斐波那契数列的计算</p>
<p>和 命令式相比，</p>
<p>历史发展向讲解</p>
<p>就 应用程序 实体举例</p>
<p>跨语言啊交互举例 <a href="https://weex.apache.org/zh/docs/components/recycle-list.html" target="_blank" rel="noopener">recycle-list</a></p>
<p>简单说 原来的命令式 比较常用的是 事件-&gt;执行的代码</p>
<p>现在 实现 大概是 数据 = 构成来源</p>
<h1 id="vue3"><a href="#vue3" class="headerlink" title="vue3"></a>vue3</h1><p>chrome devTools 周活用户90万 / react的160万</p>
<p>what’s target?</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/Blog/19-06-13-vue-declarative/#more" rel="contents">
                閱讀全文 &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-TW">
    <link itemprop="mainEntityOfPage" href="https://cromarmot.github.io/Blog/19-06-11-material/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/Blog/images/avatar.gif">
      <meta itemprop="name" content="Cro-Marmot">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Cro-Marmot's Blog">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/Blog/19-06-11-material/" class="post-title-link" itemprop="url">material学习</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">發表於</span>

              <time title="創建時間：2019-06-11 01:01:01" itemprop="dateCreated datePublished" datetime="2019-06-11T01:01:01+08:00">2019-06-11</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新於</span>
                <time title="修改時間：2021-02-25 16:38:55" itemprop="dateModified" datetime="2021-02-25T16:38:55+08:00">2021-02-25</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分類於</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/Blog/categories/js/" itemprop="url" rel="index"><span itemprop="name">js</span></a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/Blog/19-06-11-material/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="19-06-11-material/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h1><p><a href="https://material.io/collections/developer-tutorials/#web" target="_blank" rel="noopener">https://material.io/collections/developer-tutorials/#web</a></p>
<p>很早就有人说过了material，不过在那时，1是不太能阅读英文文档，2是没有实际的需要，也没有要用的想法，没有阅读</p>
<p>下面是个人整理 (大概需要的前置知识 node基本+html+js+css</p>
<h1 id="是什么"><a href="#是什么" class="headerlink" title="是什么"></a>是什么</h1><p>跨平台，好看的，google出的ui标准 </p>
<h1 id="demo"><a href="#demo" class="headerlink" title="demo"></a>demo</h1><p><code>git clone https://github.com/material-components/material-components-web-codelabs</code></p>
<p>安装所有ui</p>
<p><code>npm install material-components-web</code></p>
<p>从文档和操作上来看 需要做3件事</p>
<ol>
<li>引入css 如<code>@import &quot;@material/textfield/mdc-text-field&quot;;</code></li>
<li>在html的元素上 给对应的class</li>
<li>js里引入组件和 对相应元素进行处理,如下</li>
</ol>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;MDCTextField&#125; <span class="keyword">from</span> <span class="string">'@material/textfield'</span>;</span><br><span class="line"><span class="keyword">const</span> username = <span class="keyword">new</span> MDCTextField(<span class="built_in">document</span>.querySelector(<span class="string">'.username'</span>));</span><br></pre></td></tr></table></figure>
<p>demo101 102里介绍了 输入框，按钮，图片，列表</p>
<p>然后103 介绍了一些，theme(例如主题颜色)，subtitle(typography),elevation(实际是阴影效果 用来让页面元素有高低感觉),<code>mdc-image-list--masonry</code>非等长图片排列</p>
<p>demo111 介绍了，如何对一个原来写过的原始工程，修改成Material Components的样式(基本就是 npm引入，js引入，css引入，换class，加js</p>
<p>demo112 介绍了一个react工程上 改为material components</p>
<p>最后 目前看下来 angular+material 最多star的是<a href="https://material.angular.io" target="_blank" rel="noopener">https://material.angular.io</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/Blog/page/4/"><i class="fa fa-angle-left" aria-label="上一頁"></i></a><a class="page-number" href="/Blog/">1</a><span class="space">&hellip;</span><a class="page-number" href="/Blog/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/Blog/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/Blog/page/10/">10</a><a class="extend next" rel="next" href="/Blog/page/6/"><i class="fa fa-angle-right" aria-label="下一頁"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目錄
        </li>
        <li class="sidebar-nav-overview">
          本站概要
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Cro-Marmot</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/Blog/archives/">
        
          <span class="site-state-item-count">96</span>
          <span class="site-state-item-name">文章</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
        <span class="site-state-item-count">51</span>
        <span class="site-state-item-name">分類</span>
      </div>
      <div class="site-state-item site-state-tags">
        <span class="site-state-item-count">91</span>
        <span class="site-state-item-name">標籤</span>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/CroMarmot" title="GitHub → https://github.com/CroMarmot" rel="noopener" target="_blank"><i class="github fa-fw"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="https://codeforces.com/profile/Cro-Marmot" title="Codeforces → https://codeforces.com/profile/Cro-Marmot" rel="noopener" target="_blank"><i class="bug fa-fw"></i>Codeforces</a>
      </span>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Cro-Marmot</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 強力驅動
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/Blog/lib/anime.min.js"></script>
  <script src="/Blog/lib/velocity/velocity.min.js"></script>
  <script src="/Blog/lib/velocity/velocity.ui.min.js"></script>
<script src="/Blog/js/utils.js"></script><script src="/Blog/js/motion.js"></script>
<script src="/Blog/js/schemes/muse.js"></script>
<script src="/Blog/js/next-boot.js"></script>



  




  <script src="/Blog/js/local-search.js"></script>












  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script>

    

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://cromarmot.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>

</body>
</html>
